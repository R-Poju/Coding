注册逻辑



1. 启动服务器 GateServer 和 VarifyServer。业务主要由GateServer来完成，VarifyServer仅负责发送验证码
2. GateServer中，GateServer.cpp初始化MysqlMgr和RedisMgr的单例，注册ConfigMgr用户信息管理类，初始化port 和 ioc上下文，创建CServer类型的智能指针，开启Start()监听
3. CServer->Start() 会创建AsioIOServicePool 池的单例，获取上下文io_context；用 io_context 初始化HttpConnection类型的智能指针并开启异步监听。当接收到新连接时，会将连接交由HttpConnection处理，并自身再次调用Start()继续监听连接
4. HttpConnection会调用 HandleReq() 处理Get和Post请求并完成回包
5. LogicSystem构造函数中注册了不同请求的处理逻辑，HandReq() 创建LogicSystem单例来处理请求



1. 启动客户端Client，当用户点击获取验证码按钮时，会创建QJsonObject对象，用户输入的email会保存在QJsonObject对象中；接着创建HttpMgr单例，调用PostHttpReq()函数，将保存有用户信息的QJsonObject对象、服务的ReqId、模块Modules发送到服务器所在的端口中，参数QUrl存储了服务器所在的端口，以及具体的请求
2. HttpMgr::PostHttpReq会创建一个HTTP POST请求，并设置请求头和请求体；通过URL构造请求，之后发送请求，并处理响应，获取自己的智能指针，构造伪闭包并增加智能指针引用计数；设置信号和槽等待发送完成。无错误则读回响应。Qt通过异步信号槽机制监听回包，回包到达后才执行后续逻辑；服务端处理完客户端的POST请求后，主动发送HTTP响应；客户端获取回包内容，解析后更新UI或业务状态



1. 服务端接收到来自客户端的获取验证码请求，解析数据得到email，创建VerifyGrpcClient单例，发送验证码到对应的邮箱，并回包给客户端
2. 服务端接收到注册用户请求，解析数据得到email、name、pwd、confirm、icon等信息，先查找redis中email对应的验证码是否合理，再查找数据库判断用户是否已存在，未存在则将用户信息存入数据库当中，并将用户注册数据回包给客户端







































